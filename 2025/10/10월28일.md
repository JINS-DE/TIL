# [2025년 10월 28일] 회고 
## 📝 오늘의 한 줄 요약
이력서 첨삭 및 회사 지원

## 📚 주제별 학습 내용 
### [백준 N과 M(7)](https://www.acmicpc.net/problem/15656)
```java
import java.util.*;

public class Main{
    static int N;
    static int M;
    static int[] arr;
    static int[] output;
    public static void main(String[] args){
        Scanner sc = new Scanner(System.in);
        N = sc.nextInt();
        M = sc.nextInt();
        arr = new int[N];
        output = new int[M];
        for (int i=0;i<N;i++){
            arr[i] = sc.nextInt();
        }
        Arrays.sort(arr);
        recur(0);
    }

    public static void recur(int depth){
        if (depth==M){
            for (int i=0;i<M;i++){
                System.out.print(output[i] + " ");
            }
            System.out.println();
            return;
        }

        for (int i=0; i<N;i++){
            output[depth]=arr[i];
            recur(depth+1);
        }
    }
}
```
- 시간 초과 발생 코드
#### 왜(Why)? 
- `System.out.print()`, `System.out.println()`의 내부를 살펴봐야 한다. 
- java의 시스템콜을 살펴보면, User모드에서 `System.out`이 실행 -> Kernel 모드 `write/proc/self/fd/1` 시스템콜이 실행되고 User 모드에 결과를 반환해준다. 
    - 표준출력(stdout)은 fd 1번에 해당 (write)
- 대부분의 언어는 출력(`System.out.print()`)을 여러개로 버퍼에 담고 한번에 write를 시도한다. 
    - write의 조건
        - Buffer의 용량이 가득 찼을 때 (write를 실행 시키고 버퍼를 비우기)
        - `System.out.flush()`와 같이 명시적으로 flush 요청이 발생했을 때
- `System.out.println()` 안의 코드를 살펴보면 newLine() 함수가 있는데 그 함수 안에 `textOut.flushBuffer();`를 호출하는 코드가 있다. 
    - 즉, 7^7회의 시스템 콜(write)가 호출된다. => **시간초과 직접적인 원인**

#### 해결책 2가지 : 출력을 한 번에 모아서 처리하기!
1. StringBuilder 사용
2. BufferedWriter 사용

```java
import java.util.*;

public class Main{
    static int N;
    static int M;
    static int[] arr;
    static int[] output;
    public static void main(String[] args){
        Scanner sc = new Scanner(System.in);
        N = sc.nextInt();
        M = sc.nextInt();
        arr = new int[N];
        output = new int[M];
        for (int i=0;i<N;i++){
            arr[i] = sc.nextInt();
        }
        Arrays.sort(arr);
        recur(0);
        System.out.print(sb);
    }
    static StringBuilder sb = new StringBuilder();
    public static void recur(int depth){
        if (depth==M){
            for (int i=0;i<M;i++){
                sb.append(output[i] + " ");
            }
            sb.append("\n");
            return;
        }

        for (int i=0; i<N;i++){
            output[depth]=arr[i];
            recur(depth+1);
        }
    }
}
```
